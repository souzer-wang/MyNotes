## 题意

格雷编码是一个二进制数字系统，在该系统中，两个连续的数值仅有一个位数的差异。

给定一个代表编码总位数的非负整数 n，打印其格雷编码序列。即使有多个不同答案，你也只需要返回其中一种。

格雷编码序列必须以 0 开头。

**eg**

**输入:** 2
**输出:** \[0,1,3,2]
**解释:**
00 - 0
01 - 1
11 - 3
10 - 2

对于给定的 n，其格雷编码序列并不唯一。
例如，\[0,2,3,1] 也是一个有效的格雷编码序列。

00 - 0
10 - 2
11 - 3
01 - 1

---
## 解题

题目中的重点是 **两个连续的数值仅有一个位数的差异** 这句话，其实本题的实质就是把  $0$ ~ $2^n$中的所有数按 **一定顺序** 输出。

我的做法是按照题意把数字用二进制表达后，观察输出的规律，然后发现一点：**输出的数字是对称的** ， 这当然只是多种排序中的一种，但很值得拿来解题，具体如下图：

![[Pasted image 20210120115808.png]]

从图中我们可以很清楚地看出，每个n的格雷编码中，除开第一位后的右侧是对称的，且分别为n-1的格雷编码和它的倒置。

这样解题的思路就出来了，
1. 进行n次循环，每次循环生成一个数组存储当前循环的格雷编码
2. 每次循环生成一个数 cur 为2的n次方，即（上图中的二进制最前面的一位），对上一次生成的n-1格雷编码进行遍历：
	1. 第一次遍历，把0加到每个值上（其实就是直接赋值）
	2. 第二次遍历（倒置），把cur值加到每个值上

解题代码如下：
```python
res=[0,1]
for i in range(1,n):
	tmp=res
	cur=1<<i
	for c in tmp[::-1]:
		res.append(cur+c)
return res
```

改进：

可以直接在res数组上进行修改，从res尾部向前遍历，同时在尾部之后依次把加完的值添上去。

```python
res=[0]
for i in range(n):
	cur=1<<i
	l=len(res)
	for j in range(l-1,-1,-1):
		res.append(res[j]+cur)
return res
```