## 题意

给你一个字符串表达式 `s` ，请你实现一个基本计算器来计算并返回它的值。

整数除法仅保留整数部分。

---
## 解题

本题和[[224.基本计算器-困难]]的区别是去除了括号，加上了乘除。

解题思路：

当我们解决这样的计算式时，需要考虑的主要是计算优先级的问题，就像有括号的情况下先算括号内的，我们需要先对乘除进行计算。

我刚开始想到的方法，在第一次遍历的过程中先完成乘除的计算，然后把计算的结果和其它的加减算式一起存到栈中，最后统一做加减计算。

然后在题解中发现了一个思路相同的做法，但是比较简洁，也方便理解。具体的说就是利用栈，每遍历到一个计算符号或者到字符串末尾时，对上一个字符串进行分析：
1. 如果上个计算符号是+-，那么把当前的num（夹在上个符号和当前遍历符号中的数）带上符号存到栈中
2. 如果是乘，那么从栈中取出上个数字，做乘法后添加到栈中
3. 如果是除法，同样取出上一个数字，做除法后取整再返回栈中



```python
def calculate(s):
	stack=[]
	num,sign=0,"+"
	
	for i in range(len(s)):
		if s[i].isdigit():
			num=num*10+int(s[i])
		#此处不用elif的原因在于，为了最后一步能落入判断中
		if s[i] in "+-*/" or i==len(s)-1:
			if s[i]=="+":
				stack.append(num)
			elif s[i]=='-':
				stack.append(-num)
			elif s[i]=='*':
				stack.append(stack.pop()*num)
			else:
				stack.append(int(stack.pop()/num))
			num=0
			sign=s[i]
	return sum(stack)
```