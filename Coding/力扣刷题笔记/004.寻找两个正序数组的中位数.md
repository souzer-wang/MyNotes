## 题意

给定两个大小为m和n的正序数组nums1和nums2，请找出这两个数组合并后的中位数。
**要求：时间复杂度控制在O(log(m+n))**

### eg

**输入：**nums1 = \[1,3\], nums2 = \[2\]
**输出：**2.00000
**解释：**合并数组 = \[1,2,3\] ，中位数 2

**输入：**nums1 = [1,2], nums2 = [3,4]
**输出：**2.50000
**解释：**合并数组 = [1,2,3,4] ，中位数 (2 + 3) / 2 = 2.5

### 提示

- nums1.length == m
- nums2.length == n
- 0 <= m <= 1000
- 0 <= n <= 1000
- 1 <= m + n <= 2000
- -106 <= nums1[i], nums2[i] <= 106

---

## 解题思路

题意要求时间复杂度控制在O(log(m+n))，如果我们用第一反应将两个数组合并后排序，那么时间复杂度将达到O(m+n)，所以参考了各种题解后，我觉得寻找第k小的数这种方法比较值得学习，而且这个方法*适用性范围比较广*。

题目中为两个正序数组，要找中位数，利用题解中讲到的寻找第k个数的方法，就是删除前二分之一的数。

做法是每次循环，删除前一半的数的前面一半，**也就是对于前一半的数，每次保留后1/2，** 这样最后只剩下了一个数，即中位数。

具体的做法：
- 每次删除完后，两个数组的长度会变化，为了方便操作，每次删除后确保nums1比nums2长
- 删除范围t的大小视具体情况而定，取较短数组的长度和k/2中更小的一个: ```t=min(k//2,len(l2))]```
- 对于k个数的中位数
	- 若k=2m+1，中位数为第m+1个
	- 若k=2m,中位数为第m和m+1个的平均值
- 所以求k个数中第(k+1)//2和第k//2+1个数，再取平均数
	- 若k=2m+1，取到的是第m+1个和第m+1个
	- 若k=2m，取到的是第m个和第m+1个

## 代码

```python
def findMedianSortedArrays(self, nums1: List\[int\], nums2: List\[int\]) -> float:
 	def findk(l1,l2,k):
		if len(l1)<len(l2):
		 	l1,l2=l2,l1
		if len(l2)==0:
			return l1[k-1]
		if k==1:
			return min(l1[0],l2[0])
		t=min(k//2,len(l2))#确定删除范围的大小
		if l1[t-1]<l2[t-1]:
			return findk(l1[t:],l2,k-t)
		else:
			return findk(l1,l2[t:],k-t)
	#取两个数然后求平均值
	k1=(len(nums1)+len(nums2)+1)//2
	k2=(len(nums1)+len(nums2)+2)//2
	return (findk(nums1,nums2,k1)+findk(nums1,nums2,k2))/2
```