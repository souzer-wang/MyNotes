### 限定符 Quantifiers
&nbsp

#### **?**  

？前面的字符数为** 0 或 1**， 即可有可无

举例 used? 可匹配use 和 used

#### *****

\* 前面的字符有**0个以上**  ≥0

举例 ab\*c 可匹配 ac abc abbbc 

#### **+**

\+ 前面的字符有**1个以上**  ≥1

举例 ab\+c 可匹配 abc abbbc 

#### { }

大括号内添加数值来限定

eg.
ab{6}c 匹配b出现6次    abbbbbbc
ab{2,4}c 匹配b出现2~4次    abbc abbbc abbbbc
ab{2,}c  匹配b出现两次以上

#### ()
匹配多字符

(ab)+c  匹配ab出现次数≥1的情况

---
### 或运算符

#### |
隔开并列的两项
举例 a (cat|dog) 匹配 a cat 或a dog

---
### 字符类

举例 \[abc]+  中括号内的字母表示要匹配的字符只能取自于它们，举例 abc aabbc 

也可以方括号内限定字符范围，比如 \[a - z]+ 表示字符要求为所有的小写字母
还可以设置多个限定 比如\[a - z A - Z 0 - 9]+ 表示字符要求为所有字母和数字

如果在前面加个 **^** 号，就表示要排除一些字符，比如 \[^ 0 - 9]表示要求字符所有除了数字以外的字符（注：换行符也算符号）

---
### 元字符 Mata-characters

\d 代表数字字符  举例 \d+ 查找数字字符
\w 代表单词字符（英文、数字及下划线） 举例 \w+
\s 代表空白符（Tab 和 换行符）
\D 代表非数字字符
\W 代表非单词字符
\S 代表非空白字符
. 代表任意字符（除换行符）

^ 匹配行首 
$ 匹配行尾

举例 a^ 会匹配行首为a的， a$ 会匹配行尾为a的

---
### 贪婪与懒惰匹配 Greedy vs Lazy  Match 

举一个例子： \<span>\<b>This is a sample\</b>\</span>

<.+> 看上去好像是去匹配包含<>的字符， 比如\<span>
但实际上它会把整个例子全部包含进去，因为整个例子也符合条件：开始的<和结尾的>，这就是贪婪匹配

所以要转为懒惰匹配，加个问号： <.+?>，这样就能匹配到\<span>的结果了

---
### 实例

1. rgb值 #\[a-f A-f 0-9]{6}\b 解释：满足a到f的大小写字母和数字组成的  六位的（\b为终边界）

2. ip地址 （比较麻烦）
0-255可以分成以下几种情况：

| 情况 | 对应正则符号|
|:-:|:-:|
|250-255|25\[0-5]|
|200-249|2\[0-4]\d|
|0-200|\[01]?\d\d?|
|0-255|(25\[0-5]\|2\[0-4]\d\|\[01]?\d\d?)|
|0-255.0-255.0-255.0-255|\b((25\[0-5]\|2\[0-4]\d\|\[01]?\d\d?)\\.){3}(25\[0-5]\|2\[0-4]\d\|\[01]?\d\d?)\b|

说明：
- /b用来表示边界
- . 表示任意字符，所以用来真的匹配 . 符号时需要加个 \ 符号来转义（就像markdown的转义一样）

---
python提供了`re`模块，包含所有正则表达式的功能

tips：python中定义字符串最好在前面加上`r`前缀，避免考虑转义的事

```python
>>>import re
>>>re.match(r'^\d{3}\-\d{3,8}$','010-12345')
```

---
**用来切分字符串**

```python
>>>re.split(r'[\s\,\;]+','a,b;;c d,e')
['a','b','c','d','e']
```

---
**分组**

每个`()`表示一个要提取的分组

```python
>>> m = re.match(r'^(\d{3})-(\d{3,8})$', '010-12345')
>>> m
<_sre.SRE_Match object; span=(0, 9), match='010-12345'>
>>> m.group(0)
'010-12345'
>>> m.group(1)
'010'
>>> m.group(2)
'12345'
```

---
**练习**

邮箱匹配
-   someone@gmail.com
-   bill.gates@microsoft.com

```python
def is_valid_email(addr):
    if re.match(r'^[a-zA-Z0-9]+[\.a-zA-Z0-9]*@[a-zA-Z0-9]+\.com$',addr):
        return True
    else:
        return False
```

