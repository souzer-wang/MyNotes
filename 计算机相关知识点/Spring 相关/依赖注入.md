### 什么是Spring的依赖注入

依赖注入，是IOC的一个方面。

通俗理解，不用创建对象，而只需要描述它如何被创建。

你不在代码里直接组装你的组件和服务，但是要在配置文件里描述哪些组件需要哪些服务，之后一个容器（IOC容器）负责把他们组装起来。

### 有哪些不同类型的IOC（依赖注入）方式？

-   **构造器依赖注入：** 构造器依赖注入通过容器触发一个类的构造器来实现的，该类有一系列参数，每个参数代表一个对其他类的依赖。
-   **Setter方法注入：** Setter方法注入是容器通过调用无参构造器或无参static工厂 方法实例化bean之后，调用该bean的setter方法，即实现了基于setter的依赖注入。

### 哪种依赖注入方式你建议使用，构造器注入，还是 Setter方法注入？

两种依赖方式都可以使用。最好的解决方案是
- 用构造器参数实现强制依赖，
- setter方法实现可选依赖。

**Spring如何解决循环依赖问题**

循环依赖问题在Spring中主要有三种情况：

-   （1）通过构造方法进行依赖注入时产生的循环依赖问题。
-   （2）通过setter方法进行依赖注入且是在多例（原型）模式下产生的循环依赖问题。
-   （3）通过setter方法进行依赖注入且是在单例模式下产生的循环依赖问题。

在Spring中，只有第（3）种方式的循环依赖问题被解决了，其他两种方式在遇到循环依赖问题时都会产生异常。