### 脏读：

脏读就是指当一个事务正在访问数据，并且对数据进行了修改，而这种修改还没有提交到数据库中，这时，另外一个事务也访问这个数据，然后使用了这个数据。

### 不可重复读：

是指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的的数据可能是不一样的。这样就发生了在一个事务内两次读到的数据是不一样的，因此称为是不可重复读。

> 一个事务多次读，中间被他人修改，导致读的结果不一致

### 幻读：

是指当事务不是独立执行时发生的一种现象，例如第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好象发生了幻觉一样。

> 一个事务多次读，中间被他人修改，导致查询的结果集不一致（多一行/少一行数据）


### 17.Mysql中默认事务隔离级别是？ 

### 答：MySQL默认：可重复读

-   读未提交(RU): 一个事务还没提交时, 它做的变更就能被别的事务看到。
    
-   读提交(RC): 一个事务提交之后, 它做的变更才会被其他事务看到。
    
-   可重复读(RR): 一个事务执行过程中看到的数据, 总是跟这个事务在启动时看到的数据是一致的。当然在可重复读隔离级别下, 未提交变更对其他事务也是不可见的。
    
-   串行化(S): 对于同一行记录, 读写都会加锁. 当出现读写锁冲突的时候, 后访问的事务必须等前一个事务执行完成才能继续执行。


### 关系表格

||脏读|不可重复读|幻读|
|:-:|:-:|:-:|:-:|
|读未提交|✔|✔|✔|
|读已提交|❌|✔|✔|
|可重复读|❌|❌|✔|
|串行化|❌|❌|❌|

### 为什么MySQL选择可重复读作为默认隔离级别？

和MySQL的主从复制有关（基于binlog复制，binlog在之前的某个版本中在读已提交级别下，进行主从复制会出bug），所以MySQL将可重复读作为默认隔离级别

### 为什么很多项目中 用读已提交 而不是 可重复读？
### （或者说）读已提交 相对于 可重复读的优势？

1. 在RR级别下，会有间隙锁，导致出现死锁的概率比RC大很多
2. RR级别下，条件列未命中索引会锁表，而RC只会锁行
3. RC级别下，update的并发性更好