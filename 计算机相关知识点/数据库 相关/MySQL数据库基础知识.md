### 1.说说主键、外键、超键、候选键的差别并举例

-   超键(super key): 在关系中能唯一标识元组的属性集称为关系模式的超键。
    
-   候选键(candidate key): 不含有多余属性的超键称为候选键。也就是在候选键中，若再删除属性，就不是键了！
    
-   主键(primary key): 用户选作元组标识的一个候选键程序主键。
    
-   外键(foreign key)：如果关系模式R中属性K是其它模式的主键，那么k在模式R中称为外键。
    

举个例子，对于 学生信息（学号 身份证号 性别 年龄 身高 体重 宿舍号）和 宿舍信息（宿舍号 楼号）：

-   超键：只要含有“学号”或者“身份证号”两个属性的集合就叫超键，例如R1（学号 性别）、R2（身份证号 身高）、R3（学号 身份证号）等等都可以称为超键！
    
-   候选键：不含有多余的属性的超键，比如（学号）、（身份证号）都是候选键，又比如R1中学号这一个属性就可以唯一标识元组了，而有没有性别这一属性对是否唯一标识元组没有任何的影响！
    
-   主键：就是用户从很多候选键选出来的一个键就是主键，比如你要求学号是主键，那么身份证号就不可以是主键了！
    
-   外键：宿舍号就是学生信息表的外键。
    


    

### 3.触发器的作用？

-   安全性，可以基于数据库的值使用户具有操作数据库的某种权利。
    
-   审计，可以跟踪用户对数据库的操作。
    
-   实现复杂的非标准的数据库相关完整性规则，触发器可以对数据库中相关的表进行连环更新。
    
-   触发器能够拒绝或回退那些破坏相关完整性的变化，取消试图进行数据更新的事务。当插入一个与其主键不匹配的外部键时，这种触发器会起作用。
    

### 4.什么是存储过程？优缺点是什么？与函数的区别是什么？

存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中就可以调用多次。

优点：

-   存储过程是预编译过的，执行效率高。
    
-   存储过程的代码直接存放于数据库中，通过存储过程名直接调用，减少网络通讯。
    
-   安全性高，执行存储过程需要有一定权限的用户。
    
-   存储过程可以重复使用，可减少工作量冗余。
    

缺点：移植性差

与函数的区别:

-   存储过程用户在数据库中完成特定操作或者任务（如插入，删除等），函数用于返回特定的数据。
    
-   存储过程声明用procedure，函数用function。
    
-   存储过程不需要返回类型，函数必须要返回类型。
    
-   存储过程可作为独立的pl-sql执行，函数不能作为独立的plsql执行，必须作为表达式的一部分。
    
-   存储过程只能通过out和in/out来返回值，函数除了可以使用out，in/out以外，还可以使用return返回值。
    
-   sql语句（DML或SELECT)中不可用调用存储过程，而函数可以。
    

### 5.什么是视图，优缺点是什么？

视图：是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，试图通常是有一个表或者多个表的行或列的子集。对视图的修改会影响基本表。

优点：

-   对数据库的访问，因为视图可以有选择性的选取数据库里的一部分。
    
-   用户通过简单的查询可以从复杂查询中得到结果。
    
-   维护数据的独立性，试图可从多个表检索数据。
    
-   对于相同的数据可产生不同的视图。
    

缺点：

查询视图时，必须把视图的查询转化成对基本表的查询，如果这个视图是由一个复杂的多表查询所定义，那么，那么就无法更改数据。

### 6.说说drop、truncate、 delete区别

-   drop直接删掉表。
    
-   truncate删除表中数据，再插入时自增长id又从1开始。
    
-   delete删除表中数据，可以加where字句。
    

### 7.什么是临时表，临时表什么时候删除？

临时表可以手动删除：

`DROP TEMPORARY TABLE IF TEXITS temp_tb  
`

临时表只在当前连接可见，当关闭连接时，MySQL会自动删除表并释放所有空间。因此在不同的连接中可以创建同名的临时表，并且操作属于本连接的临时表。创建临时表的语法与创建表语法类似，不同之处是增加关键字TEMPORARY：

`CREATE TEMPORARY TABLE tmp_table (  
NAME VARCHAR (10) NOT NULL,  
time date NOT NULL  
);  
select * from tmp_table;  
`




### 10.什么是 内连接、外连接、交叉连接、笛卡尔积等?

-   内连接: 只连接匹配的行。
    
-   左外连接: 包含左边表的全部行（不管右边的表中是否存在与它们匹配的行），以及右边表中全部匹配的行。
    
-   右外连接: 包含右边表的全部行（不管左边的表中是否存在与它们匹配的行），以及左边表中全部匹配的行。
    
-   全外连接: 包含左、右两个表的全部行，不管另外一边的表中是否存在与它们匹配的行。
    
-   交叉连接: 生成笛卡尔积－它不使用任何匹配或者选取条件，而是直接将一个数据源中的每个行与另一个数据源的每个行都一一匹配。
    

### 11.varchar和char的区别？

-   char的长度是不可变的，而varchar的长度是可变的。
    
-   char的存取速度还是要比varchar要快得多，因为其长度固定，方便程序的存储与查找。
    
-   char的存储方式是：对英文字符（ASCII）占用1个字节，对一个汉字占用两个字节。varchar的存储方式是：对每个英文字符占用2个字节，汉字也占用2个字节。
    

### 12.说说like % - 的区别

-   %百分号通配符:表示任何字符出现任意次数(可以是0次)。
    
-   下划线通配符:表示只能匹配单个字符,不能多也不能少,就是一个字符。
    
-   like操作符: LIKE作用是指示mysql后面的搜索模式是利用通配符而不是直接相等匹配进行比较。
    



## MySQL数据库-专业知识

### 16.Mysql中有哪几种锁？

-   行级锁：锁定力度小，发生锁冲突概率低，开销大，加锁慢，并发度高。
    
-   页级锁：加锁时间比行锁长，页级锁开销介于表锁和行锁之间，会出现死锁，并发度一般。
    
-   表级锁：开销小，加锁快。
    


    





